<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="/edh7916/assets/css/style.css">
<link rel="stylesheet" href="/edh7916/assets/css/syntax_default.css">
<link rel="shortcut icon" type="image/png" href="/edh7916/assets/img/favicon.ico">
<link crossorigin="anonymous" media="all" integrity="sha512-uhAd27cNiLn0VE2GVEVUN8D5zW0o7s0QTnCGMnJZkL2HqN9/LwHDi4ndTPJH0upUQHYl/8QF6cwbOYp/KIzlJQ==" rel="stylesheet" href="https://github.githubassets.com/assets/github-be4e45349cf088df7a6636f437c0a167.css" />
<script defer src="/edh7916/assets/js/all.min.js"></script>
<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script async defer src="https://buttons.github.io/buttons.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<title>edquant | EDH 7916: Contemporary Research in Higher Education</title>

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>EDH 7916: Contemporary Research in Higher Education<a href="https://github.com/edquant/edh7916" class="iconlink">
	      <i class="fab fa-github fa-sm"></i></a></h1>
	<h2 class="thin">Summer 2020 (Session C)</h2>
	<p>A course in quantitative research workflow for students in
the higher education administration program at the University of Florida
</p>
	<!-- side / top bar menu -->
	<h2 class="thin">
	  <a href="/edh7916/">Overview</a></br>
	  <a href="/edh7916/syllabus/">Course
	    information</a></br>
	  <!-- <a href="/edh7916/location/">Meeting -->
	  <!--   location</a></br> -->
	  <a href="/edh7916/software/">Software</a></br>
	  <a href="/edh7916/schedule/">Schedule</a></br>
	  <a href="/edh7916/lessons/">Lessons</a></br>
	  <a href="/edh7916/assignments/">Assignments</a></br>
	  <a href="/edh7916/questions/">Questions</a></br>
	  <a href="/edh7916/past/">Past courses</a></br>
	  <a href="/edh7916/about/">About</a></br>	  
	</h2>
      </header>

      <section>
	<h1>Data Wrangling I: Enter the tidyverse</h1>
	

	
<p>
  
  <a href="/edh7916/assets/pdf/dw_one.pdf"
     class="iconlink" download title="Get PDF of lesson">
  <i class="far fa-file-pdf fa-2x"></i>
  </a>
  
  &nbsp;&nbsp;
  
  <a href="/edh7916/scripts/dw_one.R"
     class="iconlink" download title="Get script">
    <i class="fas fa-code fa-2x"></i>
  </a>
  &nbsp;&nbsp;
  
  
  
  
  
  <a href="/edh7916/data/hsls_small.csv"
     class="iconlink" download title="Get data">
    <i class="fas fa-database fa-2x"></i>
  </a>
  &nbsp;&nbsp;
  
  
</p>


<p>We take our first full dive into R in this lesson. Though every data
wrangling / analysis is unique, the best way to learn and practice R
is to answer a question using data. By the end of this lesson, you
will have read in a data set, lightly cleaned it, produced results,
and saved your findings in a new file. As part of this process, you
will have practiced translating a research question into data analysis
steps, which is a skill every bit as important as technical
sophistication with a statistical language like R.</p>

<h1 id="core-processes-in-a-data-analysis">Core processes in a data analysis</h1>

<p>Large or small, a typical data analysis will involve most — if not
all — of the following steps:</p>

<ol>
  <li><strong>Read</strong> in data</li>
  <li><strong>Select</strong> variables (columns)</li>
  <li><strong>Mutate</strong> data into new forms</li>
  <li><strong>Filter</strong> observations (rows)</li>
  <li><strong>Summarize</strong> data</li>
  <li><strong>Arrange</strong> data</li>
  <li><strong>Write</strong> out updated data</li>
</ol>

<p>Returning to our cooking metaphor from the <a href="../lessons/organizing.html">organizing
lesson</a>: if the first and last steps
represent our raw ingredients and finished dish, respectively, then
the middle steps are the core processes we use to prepare the meal.</p>

<p>As you can see, there aren’t that many core processes to use. Their
power comes from the infinite ways they can be ordered and
combined. There are, of course, many specialized tools for specialized
data wrangling tasks — too many to cover in this course (Google is
your friend here!). But I call these processes “core processes” for a
reason — they will be at the center of most of your data analytic
work.</p>

<h1 id="tidyverse">Tidyverse</h1>

<p>The tidyverse is shorthand for a <a href="https://www.tidyverse.org/packages/">number of
packages</a> that are built to work
well together and can be used in place of base R functions. A few of
the tidyverse packages that you will often use are:</p>

<ul>
  <li><a href="https://dplyr.tidyverse.org">dplyr</a> for data manipulation</li>
  <li><a href="https://tidyr.tidyverse.org">tidyr</a> for making data 
<a href="https://vita.had.co.nz/papers/tidy-data.html">tidy</a></li>
  <li><a href="https://readr.tidyverse.org">readr</a> for flat file I/O</li>
  <li><a href="https://readxl.tidyverse.org">readxl</a> for Excel file I/O</li>
  <li><a href="https://haven.tidyverse.org">haven</a> for other file format I/O</li>
  <li><a href="https://ggplot2.tidyverse.org">ggplot2</a> for making graphics</li>
  <li><a href="https://stringr.tidyverse.org">stringr</a> for working with strings</li>
  <li><a href="https://lubridate.tidyverse.org">lubridate</a> for working with dates</li>
  <li><a href="http://purrr.tidyverse.org">purrr</a> for working with functions</li>
</ul>

<p>Many R users find functions from these libraries to be more intuitive
than base R functions. In some cases, tidyverse functions are faster
than base R, which is an added benefit when working with large data
sets.</p>

<p>Today we will primarily use functions from the <strong>dplyr</strong> and <strong>readr</strong>
libraries. We’ll also use some common base R functions as necessary.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## libraries</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.0 ──
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>✔ ggplot2 3.3.0     ✔ purrr   0.3.4
✔ tibble  3.0.1     ✔ dplyr   0.8.5
✔ tidyr   1.0.3     ✔ stringr 1.4.0
✔ readr   1.3.1     ✔ forcats 0.5.0
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
</code></pre></div></div>

<h1 id="check-working-directory">Check working directory</h1>

<p>This script — like the one from the <a href="../lessons/organizing.html">organizing
lesson</a> — assumes that the
<code class="language-plaintext highlighter-rouge">scripts</code> subdirectory is the working directory, that the required
data file is in the <code class="language-plaintext highlighter-rouge">data</code> subdirectory, and that both subdirectories
are at the same level in the course directory. Like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>edh7916/                 &lt;--- Top-level
|
|__/data                 &lt;--- Sub-level 1
|    |--+ hsls_small.csv
|
|__/scripts              &lt;--- Sub-level 1 (Working directory)
     |--+ dw_one.R
</code></pre></div></div>

<p>If you need a refresher on setting the working directory, see the
<a href="../lessons/organizing.html">prior lesson</a>.</p>

<p><strong>Notice</strong> that I’m not setting (<em>i.e.</em> hard coding) the working
directory in the script. That would not work well for sharing the
code. Instead, I tell you where you need to be (a common landmark),
let you get there, and then rely on relative paths afterwards.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## directory paths</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## assume we're running this script from the ./scripts subdirectory</span><span class="w">
</span><span class="n">dat_dir</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">file.path</span><span class="p">(</span><span class="s2">".."</span><span class="p">,</span><span class="w"> </span><span class="s2">"data"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h1 id="example-data-analysis-task">Example data analysis task</h1>

<p>Let’s imagine we’ve been given the following data analysis task with
the HSLS09 data:</p>

<blockquote>
  <p><em>Figure out average differences in college degree expectations
across census regions; for a first pass, ignore missing values and
use the higher of student and parental expectations if an
observation has both</em>.</p>
</blockquote>

<p>A primary skill (often unremarked upon) in data analytic work is
translation. Your advisor, IR director, funding agency director —
even collaborator — won’t speak to you in the language of R.
Instead, it’s up to you to (1) translate a research question into the
discrete steps coding steps necessary to provide an answer, and then
(2) translate the answer such that everyone understands what you’ve
found.</p>

<p>What we need to do is some combination of the following:</p>

<ol>
  <li><strong>Read</strong> in the data</li>
  <li><strong>Select</strong> the variables we need</li>
  <li><strong>Mutate</strong> a new value that’s the higher of student and parental
degree expectations</li>
  <li><strong>Filter</strong> out observations with missing degree expectation values</li>
  <li><strong>Summarize</strong> the data within region to get average degree
expectation values</li>
  <li><strong>Arrange</strong> in order so it’s easier to rank and share</li>
  <li><strong>Write</strong> out the results to a file so we have it for later</li>
</ol>

<p>Let’s do it!</p>

<h1 id="read-in-data"><strong>Read</strong> in data</h1>

<p>For this lesson, we’ll use a subset of the <a href="https://nces.ed.gov/surveys/hsls09/">High School Longitudinal
Study of 2009 (HSLS09)</a>, an IES /
NCES data set that features:</p>

<blockquote>
  <ul>
    <li>Nationally representative, longitudinal study of 23,000+ 9th graders
from 944 schools in 2009, with a first follow-up in 2012 and a second
follow-up in 2016</li>
    <li>Students followed throughout secondary and postsecondary years</li>
    <li>Surveys of students, their parents, math and science teachers,
school administrators, and school counselors</li>
    <li>A new student assessment in algebraic skills, reasoning, and problem solving for
9th and 11th grades</li>
    <li>10 state representative data sets</li>
  </ul>
</blockquote>

<p>If you are interested in using HSLS09 for future projects, <strong>DO NOT</strong>
rely on this subset. Be sure to download the full data set with all
relevant variables and weights if that’s the case. But for our
purposes in this lesson, it will work just fine.</p>

<p>Throughout, we’ll need to consult the code book. An <a href="https://nces.ed.gov/OnlineCodebook/">online version can
be found at this link (after a little navigation)</a>.</p>

<blockquote>
  <h4 id="quick-exercise">Quick exercise</h4>
  <p>Follow the code book link above in your browser and navigate to the
HSLS09 code book.</p>
</blockquote>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## input</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## data are CSV, so we use read_csv() from the readr library</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read_csv</span><span class="p">(</span><span class="n">file.path</span><span class="p">(</span><span class="n">dat_dir</span><span class="p">,</span><span class="w"> </span><span class="s2">"hsls_small.csv"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Parsed with column specification:
cols(
  stu_id = col_double(),
  x1sex = col_double(),
  x1race = col_double(),
  x1stdob = col_double(),
  x1txmtscor = col_double(),
  x1paredu = col_double(),
  x1hhnumber = col_double(),
  x1famincome = col_double(),
  x1poverty185 = col_double(),
  x1ses = col_double(),
  x1stuedexpct = col_double(),
  x1paredexpct = col_double(),
  x1region = col_double(),
  x4hscompstat = col_double(),
  x4evratndclg = col_double(),
  x4hs2psmos = col_double()
)
</code></pre></div></div>

<p>Unlike the <code class="language-plaintext highlighter-rouge">readRDS()</code> function we’ve used before, <code class="language-plaintext highlighter-rouge">read_csv()</code> prints
out information about the data just read in. Nothing is wrong! The
<code class="language-plaintext highlighter-rouge">read_csv()</code> function, like many other functions in the tidyverse,
assumes you’d rather have more rather than less information and acts
accordingly.  We can see that all the columns were read in as doubles
(<code class="language-plaintext highlighter-rouge">col_double()</code>), which is just a type of number that the computer
understands in a special way (a distinction that’s not important for
us in this case). For other data (or if we had told <code class="language-plaintext highlighter-rouge">read_csv()</code> how
to parse the columns), we might see other column types like:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">col_integer()</code>: another type of number (again, an important
distinction for the computer, but not usually for us)</li>
  <li><code class="language-plaintext highlighter-rouge">col_character()</code>: strings (<em>e.g.</em>, <code class="language-plaintext highlighter-rouge">"Ben"</code> or <code class="language-plaintext highlighter-rouge">"1"</code> [notice the quotes])</li>
  <li><code class="language-plaintext highlighter-rouge">col_logical()</code>: Boolean values of <code class="language-plaintext highlighter-rouge">TRUE</code> or <code class="language-plaintext highlighter-rouge">FALSE</code></li>
</ul>

<blockquote>
  <h4 id="quick-exercise-1">Quick exercise</h4>
  <p><code class="language-plaintext highlighter-rouge">read_csv()</code> is special version of <code class="language-plaintext highlighter-rouge">read_delim()</code>,
which can read various <em>delimited</em> file types, that is, tabular data
in which data cells are separated by a special character. What’s the
special character used to separate <em>CSV</em> files? Once you figure it
out, re-read in the data using <code class="language-plaintext highlighter-rouge">read_delim()</code>, being sure to set the
<code class="language-plaintext highlighter-rouge">delim</code> argument to the correct character.</p>
</blockquote>

<h1 id="select-variables-columns"><strong>Select</strong> variables (columns)</h1>

<p>To choose variables, either when making a new data frame or dropping
them, use <code class="language-plaintext highlighter-rouge">select()</code>. Like the other <strong>dplyr</strong> functions we’ll use,
the first argument <code class="language-plaintext highlighter-rouge">select()</code> takes is the data frame (or tibble)
object. After that, we list the column names we want to keep.</p>

<p>Some <a href="https://en.wikipedia.org/wiki/Pseudocode">pseudocode</a> for using
<code class="language-plaintext highlighter-rouge">select()</code> is:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## pseudocode (not to be run)</span><span class="w">
</span><span class="n">select</span><span class="p">(</span><span class="o">&lt;</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">column_1_name</span><span class="p">,</span><span class="w"> </span><span class="n">column_2_name</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Because we don’t want to overwrite our original data in memory, we’ll
assign (<code class="language-plaintext highlighter-rouge">&lt;-</code>) the output to a new object called <code class="language-plaintext highlighter-rouge">df_tmp</code>.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## -----------------</span><span class="w">
</span><span class="c1">## select</span><span class="w">
</span><span class="c1">## -----------------</span><span class="w">

</span><span class="c1">## select columns we need and assign to new object</span><span class="w">
</span><span class="n">df_tmp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">select</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">stu_id</span><span class="p">,</span><span class="w"> </span><span class="n">x1stuedexpct</span><span class="p">,</span><span class="w"> </span><span class="n">x1paredexpct</span><span class="p">,</span><span class="w"> </span><span class="n">x1region</span><span class="p">)</span><span class="w">

</span><span class="c1">## show</span><span class="w">
</span><span class="n">df_tmp</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 23,503 x 4
   stu_id x1stuedexpct x1paredexpct x1region
    &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;
 1  10001            8            6        2
 2  10002           11            6        1
 3  10003           10           10        4
 4  10004           10           10        3
 5  10005            6           10        3
 6  10006           10            8        3
 7  10007            8           11        1
 8  10008            8            6        1
 9  10009           11           11        3
10  10010            8            6        1
# … with 23,493 more rows
</code></pre></div></div>

<h1 id="mutate-data-into-new-forms"><strong>Mutate</strong> data into new forms</h1>

<p>To add variables and change existing ones, use the <code class="language-plaintext highlighter-rouge">mutate()</code> function.</p>

<p>Just like <code class="language-plaintext highlighter-rouge">select()</code>, the <code class="language-plaintext highlighter-rouge">mutate()</code> function takes the data frame as
the first argument, followed by variable name, new or old, that is
created/modified by some function:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## pseudocode (not to be run)</span><span class="w">
</span><span class="n">mutate</span><span class="p">(</span><span class="o">&lt;</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">column_1_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">...</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p>In this case, the <code class="language-plaintext highlighter-rouge">function(...)</code> (or, <em>stuff we want to do</em>) is add a
new column that is the larger of <code class="language-plaintext highlighter-rouge">x1stuedexpct</code> and <code class="language-plaintext highlighter-rouge">x1paredexpct</code>.</p>

<h2 id="understanding-our-data">Understanding our data</h2>

<p>First things first, however, we need to check the <a href="https://nces.ed.gov/OnlineCodebook/">code
book</a> to see what the numerical
values for our two education expectation variables represent. To save
time, I’ve copied them here:</p>

<h4 id="x1stuedexpct"><code class="language-plaintext highlighter-rouge">x1stuedexpct</code></h4>

<p><em>How far in school 9th grader thinks he/she will get</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">value</th>
      <th style="text-align: left">label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: left">Less than high school</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: left">High school diploma or GED</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: left">Start an Associate’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: left">Complete an Associate’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: left">Start a Bachelor’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: left">Complete a Bachelor’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: left">Start a Master’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: left">Complete a Master’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">9</td>
      <td style="text-align: left">Start Ph.D/M.D/Law/other prof degree</td>
    </tr>
    <tr>
      <td style="text-align: center">10</td>
      <td style="text-align: left">Complete Ph.D/M.D/Law/other prof degree</td>
    </tr>
    <tr>
      <td style="text-align: center">11</td>
      <td style="text-align: left">Don’t know</td>
    </tr>
    <tr>
      <td style="text-align: center">-8</td>
      <td style="text-align: left">Unit non-response</td>
    </tr>
  </tbody>
</table>

<h4 id="x1paredexpct"><code class="language-plaintext highlighter-rouge">x1paredexpct</code></h4>

<p><em>How far in school parent thinks 9th grader will go</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">value</th>
      <th style="text-align: left">label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: left">Less than high school</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: left">High school diploma or GED</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: left">Start an Associate’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: left">Complete an Associate’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: left">Start a Bachelor’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: left">Complete a Bachelor’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: left">Start a Master’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: left">Complete a Master’s degree</td>
    </tr>
    <tr>
      <td style="text-align: center">9</td>
      <td style="text-align: left">Start Ph.D/M.D/Law/other prof degree</td>
    </tr>
    <tr>
      <td style="text-align: center">10</td>
      <td style="text-align: left">Complete Ph.D/M.D/Law/other prof degree</td>
    </tr>
    <tr>
      <td style="text-align: center">11</td>
      <td style="text-align: left">Don’t know</td>
    </tr>
    <tr>
      <td style="text-align: center">-8</td>
      <td style="text-align: left">Unit non-response</td>
    </tr>
    <tr>
      <td style="text-align: center">-9</td>
      <td style="text-align: left">Missing</td>
    </tr>
  </tbody>
</table>

<p>The good news is that the categorical values are the same for both
variables (meaning we can make an easy comparison) and move in a
logical progression. The bad news is that we have three values —
<code class="language-plaintext highlighter-rouge">-8</code>, <code class="language-plaintext highlighter-rouge">-9</code>, and <code class="language-plaintext highlighter-rouge">11</code> — that we need to deal with so that the
averages we compute later represent what we mean.</p>

<p>Let’s see how many observations are affected by these values using
<code class="language-plaintext highlighter-rouge">count()</code> (notice that we don’t assign to a new object; this means
we’ll see the result in the console, but nothing in our data or object
will change):</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## -----------------</span><span class="w">
</span><span class="c1">## mutate</span><span class="w">
</span><span class="c1">## -----------------</span><span class="w">

</span><span class="c1">## see unique values for student expectation</span><span class="w">
</span><span class="n">count</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">x1stuedexpct</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 12 x 2
   x1stuedexpct     n
          &lt;dbl&gt; &lt;int&gt;
 1           -8  2059
 2            1    93
 3            2  2619
 4            3   140
 5            4  1195
 6            5   115
 7            6  3505
 8            7   231
 9            8  4278
10            9   176
11           10  4461
12           11  4631
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## see unique values for parental expectation</span><span class="w">
</span><span class="n">count</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">x1paredexpct</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 13 x 2
   x1paredexpct     n
          &lt;dbl&gt; &lt;int&gt;
 1           -9    32
 2           -8  6715
 3            1    55
 4            2  1293
 5            3   149
 6            4  1199
 7            5   133
 8            6  4952
 9            7    76
10            8  3355
11            9    37
12           10  3782
13           11  1725
</code></pre></div></div>

<p>Dealing with <code class="language-plaintext highlighter-rouge">-8</code> and <code class="language-plaintext highlighter-rouge">-9</code> is straightforward — we’ll convert it
missing. In R, missing values are technically stored as <code class="language-plaintext highlighter-rouge">NA</code>. Not all
statistical software uses the same values to represent missing values
(for example, Stata uses a dot <code class="language-plaintext highlighter-rouge">.</code>). Likely because they want to be
software agnostic, NCES has decided to represent missing values as a
limited number of negative values. In this case, <code class="language-plaintext highlighter-rouge">-8</code> and <code class="language-plaintext highlighter-rouge">-9</code>
represent missing values.</p>

<p>How to handle missing values is a <strong>very</strong> important topic, one we
could spend all semester discussing. For now, we are just going to
drop observations with missing values; but be forewarned that how you
handle missing values can have real ramifications for the quality of
your final results.</p>

<p>Deciding what to do with <code class="language-plaintext highlighter-rouge">11</code> is a little trickier. While it’s not a
missing value <em>per se</em>, it also doesn’t make much sense in its current
ordering, that is, to be “higher” than completing a professional
degree. We’ll make a decision to convert these to <code class="language-plaintext highlighter-rouge">NA</code> as well,
effectively deciding that an answer of “I don’t know” is the same as
missing an answer.</p>

<h2 id="changing-existing-variables-columns">Changing existing variables (columns)</h2>

<p>So first step: convert <code class="language-plaintext highlighter-rouge">-8</code>, <code class="language-plaintext highlighter-rouge">-9</code>, and <code class="language-plaintext highlighter-rouge">11</code> in both variables to
<code class="language-plaintext highlighter-rouge">NA</code>. We can do this by overwriting cells in each variable with <code class="language-plaintext highlighter-rouge">NA</code>
when they equal one of these two values. For this, we’ll use the
<code class="language-plaintext highlighter-rouge">ifelse()</code> function, which has three parts:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## pseudo code (not to be run)</span><span class="w">
</span><span class="n">ifelse</span><span class="p">(</span><span class="o">&lt;</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">return</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="kc">TRUE</span><span class="w"> </span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">return</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="o">&gt;</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">ifelse()</code> works by asking: <code class="language-plaintext highlighter-rouge">if</code> the <code class="language-plaintext highlighter-rouge">&lt; test &gt;</code> is <code class="language-plaintext highlighter-rouge">TRUE</code> do <strong>this</strong>
<code class="language-plaintext highlighter-rouge">else</code> (<em>i.e.</em> the <code class="language-plaintext highlighter-rouge">&lt; test &gt;</code> is <code class="language-plaintext highlighter-rouge">FALSE</code>) do <strong>that</strong>.  By <em>test</em>, I
mean a code statement that evaluates to either <code class="language-plaintext highlighter-rouge">TRUE</code> or
<code class="language-plaintext highlighter-rouge">FALSE</code>. For example:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">1 == 1</code> (<code class="language-plaintext highlighter-rouge">TRUE</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">1 == 2</code> (<code class="language-plaintext highlighter-rouge">FALSE</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">1 + 1 == 2</code> (<code class="language-plaintext highlighter-rouge">TRUE</code>)</li>
</ul>

<p><strong>NOTE</strong> When checking whether something equals something else, use a
double equals sign (<code class="language-plaintext highlighter-rouge">==</code>); a single equals sign typically means
assignment <code class="language-plaintext highlighter-rouge">=</code> or the same thing as the arrow, <code class="language-plaintext highlighter-rouge">&lt;-</code>.</p>

<p>What we want is to go row by row (that is, observation by observation)
through both <code class="language-plaintext highlighter-rouge">x1stuedexpct</code> and <code class="language-plaintext highlighter-rouge">x1paredexpct</code> and test whether the
value is either <code class="language-plaintext highlighter-rouge">-8</code>, <code class="language-plaintext highlighter-rouge">-9</code>, or <code class="language-plaintext highlighter-rouge">11</code> — if it is, then replace with
<code class="language-plaintext highlighter-rouge">NA</code>, otherwise, just replace it with the value it found (<em>i.e.</em> leave
it alone).</p>

<p>We could develop a sophisticated test that looked for any of these
conditions, but we can also just do it with multiple <code class="language-plaintext highlighter-rouge">ifelse()</code>
functions. Notice, however, that we can test for both <code class="language-plaintext highlighter-rouge">-8</code> and <code class="language-plaintext highlighter-rouge">-9</code> in
the same test since all the categories we want are positive.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## use case_when to overwrite -8 and 11 with NA in our two expectation variables</span><span class="w">
</span><span class="n">df_tmp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mutate</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w">
                 </span><span class="c1">## correct student expectations </span><span class="w">
                 </span><span class="n">x1stuedexpct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">x1stuedexpct</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="c1"># is value &lt; 0?</span><span class="w">
                                       </span><span class="kc">NA</span><span class="p">,</span><span class="w">                 </span><span class="c1"># T: replace with NA</span><span class="w">
                                       </span><span class="n">x1stuedexpct</span><span class="p">),</span><span class="w">      </span><span class="c1"># F: replace with self</span><span class="w">
                 </span><span class="n">x1stuedexpct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">x1stuedexpct</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">11</span><span class="p">,</span><span class="w"> </span><span class="c1"># is value == 11?</span><span class="w">
                                       </span><span class="kc">NA</span><span class="p">,</span><span class="w">                 </span><span class="c1"># T: replace with NA</span><span class="w">
                                       </span><span class="n">x1stuedexpct</span><span class="p">),</span><span class="w">      </span><span class="c1"># F: replace with self</span><span class="w">
                 </span><span class="c1">## correct parental expectations</span><span class="w">
                 </span><span class="n">x1paredexpct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">x1paredexpct</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="c1"># (same as above...)</span><span class="w">
                                       </span><span class="kc">NA</span><span class="p">,</span><span class="w">                 
                                       </span><span class="n">x1paredexpct</span><span class="p">),</span><span class="w">       
                 </span><span class="n">x1paredexpct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">x1paredexpct</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">11</span><span class="p">,</span><span class="w">
                                       </span><span class="kc">NA</span><span class="p">,</span><span class="w">
                                       </span><span class="n">x1paredexpct</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p>Notice that we used <code class="language-plaintext highlighter-rouge">df_tmp</code> rather than <code class="language-plaintext highlighter-rouge">df</code>. That’s because we want
to carry through the work we did with <code class="language-plaintext highlighter-rouge">select()</code> before. If we used
<code class="language-plaintext highlighter-rouge">df</code> instead, then we’d be back to the original data object — not
what we want.</p>

<p>Let’s confirm that our code worked as we planned by using <code class="language-plaintext highlighter-rouge">count()</code>
again.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## again see unique values for student expectation</span><span class="w">
</span><span class="n">count</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">x1stuedexpct</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 11 x 2
   x1stuedexpct     n
          &lt;dbl&gt; &lt;int&gt;
 1            1    93
 2            2  2619
 3            3   140
 4            4  1195
 5            5   115
 6            6  3505
 7            7   231
 8            8  4278
 9            9   176
10           10  4461
11           NA  6690
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## again see unique values for parental expectation</span><span class="w">
</span><span class="n">count</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">x1paredexpct</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 11 x 2
   x1paredexpct     n
          &lt;dbl&gt; &lt;int&gt;
 1            1    55
 2            2  1293
 3            3   149
 4            4  1199
 5            5   133
 6            6  4952
 7            7    76
 8            8  3355
 9            9    37
10           10  3782
11           NA  8472
</code></pre></div></div>

<h2 id="adding-new-variables-columns">Adding new variables (columns)</h2>

<p>Adding a new variable to our data frame is just like modifying an
existing column. The only difference is that instead of putting an
existing column name on the LHS of the <code class="language-plaintext highlighter-rouge">=</code> sign in <code class="language-plaintext highlighter-rouge">mutate()</code>, we’ll
make up a new name. This tells R to make a new column in our data
frame that contains the results from the the RHS function(s).</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## pseudocode (not to be run)</span><span class="w">
</span><span class="n">mutate</span><span class="p">(</span><span class="o">&lt;</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">new_column_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">...</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p>Now that we’ve corrected our expectation variables, we create a new
variable that is the higher of the two (per our initial instructions
to choose the higher of the two if both existed).</p>

<p>Using <code class="language-plaintext highlighter-rouge">ifelse()</code> again, we can test whether each student’s degree
expectation is higher than that of their parent; if true, we’ll put
the student’s value into the new variable — if false, we’ll put the
parent’s value into the new variable.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## mutate (notice that we use df_tmp now)</span><span class="w">
</span><span class="n">df_tmp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mutate</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w">
                 </span><span class="n">high_expct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">x1stuedexpct</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">x1paredexpct</span><span class="p">,</span><span class="w"> </span><span class="c1"># test</span><span class="w">
                                     </span><span class="n">x1stuedexpct</span><span class="p">,</span><span class="w">                </span><span class="c1"># if TRUE</span><span class="w">
                                     </span><span class="n">x1paredexpct</span><span class="p">))</span><span class="w">               </span><span class="c1"># if FALSE</span><span class="w">

</span><span class="c1">## show</span><span class="w">
</span><span class="n">df_tmp</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 23,503 x 5
   stu_id x1stuedexpct x1paredexpct x1region high_expct
    &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
 1  10001            8            6        2          8
 2  10002           NA            6        1         NA
 3  10003           10           10        4         10
 4  10004           10           10        3         10
 5  10005            6           10        3         10
 6  10006           10            8        3         10
 7  10007            8           NA        1         NA
 8  10008            8            6        1          8
 9  10009           NA           NA        3         NA
10  10010            8            6        1          8
# … with 23,493 more rows
</code></pre></div></div>

<p>Doing a quick “ocular test” of our first few rows, it seems like our
new variable is correct…<strong>EXCEPT</strong>…it doesn’t look like we handled
<code class="language-plaintext highlighter-rouge">NA</code> values correctly. Look at student <code class="language-plaintext highlighter-rouge">10002</code> in the second row:
while the student doesn’t have an expectation (or said “I don’t
know”), the parent does. However, our new variable records <code class="language-plaintext highlighter-rouge">NA</code>. Let’s
fix it with this test:</p>

<blockquote>
  <p>If <code class="language-plaintext highlighter-rouge">high_expct</code> <strong>is missing</strong> <strong>and</strong> <code class="language-plaintext highlighter-rouge">x1stuedexpct</code> <strong>is not missing</strong>, replace with
that; otherwise replace with itself (leave alone). Repeat, but for
<code class="language-plaintext highlighter-rouge">x1paredexpct</code>. If still <code class="language-plaintext highlighter-rouge">NA</code>, then we can assume both student and
parent expectations were missing.</p>
</blockquote>

<p>Translating the bold words to R code:</p>

<ul>
  <li><strong>is missing</strong>: <code class="language-plaintext highlighter-rouge">is.na()</code></li>
  <li><strong>and</strong>: <code class="language-plaintext highlighter-rouge">&amp;</code></li>
  <li><strong>is not missing</strong>: <code class="language-plaintext highlighter-rouge">!is.na()</code> (<code class="language-plaintext highlighter-rouge">!</code> means <strong>NOT</strong>)</li>
</ul>

<p>we get:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## correct for NA values</span><span class="w">
</span><span class="n">df_tmp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mutate</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w">
                 </span><span class="c1">## step 1: compare with student's expectations</span><span class="w">
                 </span><span class="n">high_expct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">high_expct</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">x1stuedexpct</span><span class="p">),</span><span class="w"> 
                                     </span><span class="n">x1stuedexpct</span><span class="p">,</span><span class="w">                
                                     </span><span class="n">high_expct</span><span class="p">),</span><span class="w">
                 </span><span class="c1">## step 2: compare with parent's expectations</span><span class="w">
                 </span><span class="n">high_expct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">high_expct</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">x1paredexpct</span><span class="p">),</span><span class="w"> 
                                     </span><span class="n">x1paredexpct</span><span class="p">,</span><span class="w">                
                                     </span><span class="n">high_expct</span><span class="p">))</span><span class="w">               

</span><span class="c1">## show</span><span class="w">
</span><span class="n">df_tmp</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 23,503 x 5
   stu_id x1stuedexpct x1paredexpct x1region high_expct
    &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
 1  10001            8            6        2          8
 2  10002           NA            6        1          6
 3  10003           10           10        4         10
 4  10004           10           10        3         10
 5  10005            6           10        3         10
 6  10006           10            8        3         10
 7  10007            8           NA        1          8
 8  10008            8            6        1          8
 9  10009           NA           NA        3         NA
10  10010            8            6        1          8
# … with 23,493 more rows
</code></pre></div></div>

<p>Looking at the second observation again, it looks like we’ve fixed our
<code class="language-plaintext highlighter-rouge">NA</code> issue. Looking at rows 7 and 9, it seems like those situations
are correctly handled as well.</p>

<p>To be clear, there were other ways we could have handled fixing our
missing values and creating our new variable. For example, we could
have left our missing values as negative numbers (and converting 11 to
a negative value) so that our comparison would have worked the first
time. We could have used more sophisticated tests in our <code class="language-plaintext highlighter-rouge">ifelse()</code>
statements. However, these paths weren’t clear until we’d already
worked a bit. The point to keep in mind that the process is often
iterative (two steps forward, one step back…) and that there’s
seldom an single <em>correct way</em>.</p>

<blockquote>
  <h4 id="quick-exercise-2">Quick exercise</h4>
  <p>What happens when the student and parent expectations are the same,
either a value or <code class="language-plaintext highlighter-rouge">NA</code>? Does our <code class="language-plaintext highlighter-rouge">ifelse()</code> statement account for
those situations? If so, how?</p>
</blockquote>

<h1 id="filter-observations-rows"><strong>Filter</strong> observations (rows)</h1>

<p>Let’s check the counts of our new variable:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## -----------------</span><span class="w">
</span><span class="c1">## filter</span><span class="w">
</span><span class="c1">## -----------------</span><span class="w">

</span><span class="c1">## get summary of our new variable</span><span class="w">
</span><span class="n">count</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">high_expct</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 11 x 2
   high_expct     n
        &lt;dbl&gt; &lt;int&gt;
 1          1    71
 2          2  2034
 3          3   163
 4          4  1282
 5          5   132
 6          6  4334
 7          7   191
 8          8  5087
 9          9   168
10         10  6578
11         NA  3463
</code></pre></div></div>

<p>Since we’re not going to use the missing values (we really can’t, even
if we wanted to do so), we’ll drop those observations from our data
frame using <code class="language-plaintext highlighter-rouge">filter()</code>.</p>

<p>An important point about <code class="language-plaintext highlighter-rouge">filter()</code> that often trips people up at
first: use it to <em>filter in what you *want*</em>. This is the opposite of
the more common usage of filters, which are about removing things
(<em>e.g.</em>, air filters, water filters, <em>etc</em>).</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## filter out missing values</span><span class="w">
</span><span class="n">df_tmp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">high_expct</span><span class="p">))</span><span class="w">

</span><span class="c1">## show</span><span class="w">
</span><span class="n">df_tmp</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 20,040 x 5
   stu_id x1stuedexpct x1paredexpct x1region high_expct
    &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
 1  10001            8            6        2          8
 2  10002           NA            6        1          6
 3  10003           10           10        4         10
 4  10004           10           10        3         10
 5  10005            6           10        3         10
 6  10006           10            8        3         10
 7  10007            8           NA        1          8
 8  10008            8            6        1          8
 9  10010            8            6        1          8
10  10011            8            6        3          8
# … with 20,030 more rows
</code></pre></div></div>

<p>It looks like we’ve dropped the rows with missing values in our new
variable (or, more technically, <em>kept</em> those without missing
values). Since we haven’t removed rows until now, we can compare the
number of rows in the original data frame, <code class="language-plaintext highlighter-rouge">df</code>, to what we have
now.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## is the original # of rows - current # or rows == NA in count?</span><span class="w">
</span><span class="n">nrow</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">nrow</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 3463
</code></pre></div></div>

<p>Comparing the difference, we can see it’s the same as the number of
missing values in our new column. While not a formal test, it does
support what we expected (in other words, if the number were
different, we’d definitely want to go back and investigate).</p>

<h1 id="summarize-data"><strong>Summarize</strong> data</h1>

<p>Now we’re ready to get the average of expectations that we need. The
<code class="language-plaintext highlighter-rouge">summarize()</code> command will allow us to apply a summary measure, like
<code class="language-plaintext highlighter-rouge">mean()</code>, to a column of our data. (<strong>NOTE</strong> that if we wanted another
summary measure, like the median or standard deviation, there are
other functions like <code class="language-plaintext highlighter-rouge">median()</code> and <code class="language-plaintext highlighter-rouge">sd()</code>…if you need a particular
stat, there’s likely a function for it!).</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## -----------------</span><span class="w">
</span><span class="c1">## summarize</span><span class="w">
</span><span class="c1">## -----------------</span><span class="w">

</span><span class="c1">## get average (without storing)</span><span class="w">
</span><span class="n">summarize</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">high_expct_mean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">high_expct</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 1 x 1
  high_expct_mean
            &lt;dbl&gt;
1            7.27
</code></pre></div></div>

<p>Overall, we can see that students and parents have high postsecondary
expectations on average: to earn some graduate credential beyond a
bachelor’s degree. However, this isn’t what we want. We want the
values across census regions.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## check our census regions</span><span class="w">
</span><span class="n">count</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">x1region</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 4 x 2
  x1region     n
     &lt;dbl&gt; &lt;int&gt;
1        1  3128
2        2  5312
3        3  8177
4        4  3423
</code></pre></div></div>

<p>We’re not missing any census data, which is good. To calculate our
average expectations, we need to use the <code class="language-plaintext highlighter-rouge">group_by()</code> function. This
function allows to set groups and perform other <strong>dplyr</strong> operations
<em>within</em> those groups. Right now, we’ll use it to get our summary.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## get expectations average within region</span><span class="w">
</span><span class="n">df_tmp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">group_by</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">x1region</span><span class="p">)</span><span class="w">

</span><span class="c1">## show grouping</span><span class="w">
</span><span class="n">df_tmp</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 20,040 x 5
# Groups:   x1region [4]
   stu_id x1stuedexpct x1paredexpct x1region high_expct
    &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
 1  10001            8            6        2          8
 2  10002           NA            6        1          6
 3  10003           10           10        4         10
 4  10004           10           10        3         10
 5  10005            6           10        3         10
 6  10006           10            8        3         10
 7  10007            8           NA        1          8
 8  10008            8            6        1          8
 9  10010            8            6        1          8
10  10011            8            6        3          8
# … with 20,030 more rows
</code></pre></div></div>
<p>Notice the extra row at the second line now? <code class="language-plaintext highlighter-rouge">Groups:  x1region [4]</code>
tells us that our data set is now grouped.</p>

<blockquote>
  <h4 id="quick-exercise-3">Quick exercise</h4>
  <p>What does the <code class="language-plaintext highlighter-rouge">[4]</code> mean?</p>
</blockquote>

<p>Now that our groups are set, we can get the summary we really wanted</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## get average (assigning this time)</span><span class="w">
</span><span class="n">df_tmp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summarize</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">high_expct_mean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">high_expct</span><span class="p">))</span><span class="w">

</span><span class="c1">## show</span><span class="w">
</span><span class="n">df_tmp</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 4 x 2
  x1region high_expct_mean
     &lt;dbl&gt;           &lt;dbl&gt;
1        1            7.39
2        2            7.17
3        3            7.36
4        4            7.13
</code></pre></div></div>

<p>Success! Expectations are similar across the country, but not the
same by region.</p>

<p><strong>NB</strong>: The reason we didn’t assign the first ungrouped <code class="language-plaintext highlighter-rouge">summarize()</code>
function back to <code class="language-plaintext highlighter-rouge">df_tmp</code> is that <code class="language-plaintext highlighter-rouge">summarize()</code> fundamentally changes
our data frame, from one of many observations to one that represents
their summary (as we asked!). Keep this in mind for your own analyses:
the order of operations matters. If you select columns, then columns
you didn’t selection won’t be available later; if you summarize your
data, then you only have access to the summary.</p>

<h1 id="arrange-data"><strong>Arrange</strong> data</h1>

<p>As our final step, we’ll arrange our data frame from highest to lowest
(descending). For this, we’ll use <code class="language-plaintext highlighter-rouge">arrange()</code> and a special operator,
<code class="language-plaintext highlighter-rouge">desc()</code> which is short for <em>descending</em>.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## -----------------</span><span class="w">
</span><span class="c1">## arrange</span><span class="w">
</span><span class="c1">## -----------------</span><span class="w">

</span><span class="c1">## arrange from highest expectations (first row) to lowest</span><span class="w">
</span><span class="n">df_tmp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">arrange</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">desc</span><span class="p">(</span><span class="n">high_expct_mean</span><span class="p">))</span><span class="w">

</span><span class="c1">## show</span><span class="w">
</span><span class="n">df_tmp</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 4 x 2
  x1region high_expct_mean
     &lt;dbl&gt;           &lt;dbl&gt;
1        1            7.39
2        3            7.36
3        2            7.17
4        4            7.13
</code></pre></div></div>

<blockquote>
  <h4 id="quick-exercise-4">Quick exercise</h4>
  <p>What happens when you don’t include <code class="language-plaintext highlighter-rouge">desc()</code> around <code class="language-plaintext highlighter-rouge">high_expct_mean</code>?</p>
</blockquote>

<h1 id="write-out-updated-data"><strong>Write</strong> out updated data</h1>

<p>We can use this new data frame as a table in its own right or to make
a figure. For now, however, we’ll simply save it using the opposite of
<code class="language-plaintext highlighter-rouge">read_csv()</code> — <code class="language-plaintext highlighter-rouge">write_csv()</code> — which works like <code class="language-plaintext highlighter-rouge">writeRDS()</code> we’ve
used before.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## write with useful name</span><span class="w">
</span><span class="n">write_csv</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">file.path</span><span class="p">(</span><span class="n">dat_dir</span><span class="p">,</span><span class="w"> </span><span class="s2">"high_expct_mean_region.csv"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p>And with that, we’ve met our task: we can show average educational
expectations by region. To be very precise, we can show the higher of
student and parental educational expectations among those who answered
the question by region. This caveat doesn’t necessarily make our
analysis less useful, but rather sets its scope. Furthermore, we’ve
kept our original data as is (we didn’t overwrite it) for future
analyses while saving the results of this analysis for quick
reference.</p>

<h1 id="pipes-">Pipes (<code class="language-plaintext highlighter-rouge">%&gt;%</code>)</h1>

<p>Above, we’ve performed each step of our analysis piecemeal, saving new
objects or overwriting along the way. This is fine, but a huge
benefit of the <strong>tidyverse</strong> is that it allows users to chain commands
together using pipes.</p>

<p>Tidyverse pipes, <code class="language-plaintext highlighter-rouge">%&gt;%</code>, come from the <a href="http://magrittr.tidyverse.org">magrittr
package</a>.</p>

<p><span style="display:block;text-align:center">
<a href="https://www.fine-arts-museum.be/uploads/exhibitions/images/magritte_la_trahison_des_images_large@2x.jpg"><img src="https://www.rstudio.com/wp-content/uploads/2014/04/magrittr.png" alt="badge" /></a>
</span></p>

<p>Pipes take output from the left side and pipe it to the input of the
right side. So <code class="language-plaintext highlighter-rouge">mean(x)</code> can be rewritten as <code class="language-plaintext highlighter-rouge">x %&gt;% mean</code>: <code class="language-plaintext highlighter-rouge">x</code> outputs
itself and the pipe, <code class="language-plaintext highlighter-rouge">%&gt;%</code>, makes it the input for <code class="language-plaintext highlighter-rouge">mean()</code>.</p>

<blockquote>
  <h4 id="quick-exercise-5">Quick exercise</h4>
  <p>Store 1,000 random values in <code class="language-plaintext highlighter-rouge">x</code>: <code class="language-plaintext highlighter-rouge">x &lt;- rnorm(1000)</code>. Now run
<code class="language-plaintext highlighter-rouge">mean(x)</code> and <code class="language-plaintext highlighter-rouge">x %&gt;% mean</code>. Do you get the same thing?</p>
</blockquote>

<p>This may be a silly example (why would you do that?), but pipes are
powerful because they allow data wrangling processes to be chained
together.</p>

<p>Normally, functions (like <code class="language-plaintext highlighter-rouge">select()</code>, <code class="language-plaintext highlighter-rouge">mutate()</code>, <em>etc</em>), can be nested
in R, but after too many, the code becomes difficult to parse since it
has to be read from the inside out. For this reason, many analysts run
one discrete function after another, saving output along the way. This
is what we did above.</p>

<p>Pipes allow functions to come one after another in the order of the
work being done, which is more legible. As a bonus, chaining functions
together is sometimes faster due to behind-the-scenes processing.</p>

<p>Let’s use <a href="https://twitter.com/_inundata/status/557980236130689024">Hadley’s canonical
example</a> to
make the readability comparison between nested functions and piped
functions clearer:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## foo_foo is an instance of a little bunny function</span><span class="w">
</span><span class="n">foo_foo</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">little_bunny</span><span class="p">()</span><span class="w">

</span><span class="c1">## adventures in base R must be read from the middle up and backwards</span><span class="w">
</span><span class="n">bop_on</span><span class="p">(</span><span class="w">
    </span><span class="n">scoop_up</span><span class="p">(</span><span class="w">
        </span><span class="n">hop_through</span><span class="p">(</span><span class="n">foo_foo</span><span class="p">,</span><span class="w"> </span><span class="n">forest</span><span class="p">),</span><span class="w">
        </span><span class="n">field_mouse</span><span class="w">
    </span><span class="p">),</span><span class="w">
    </span><span class="n">head</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="c1">## adventures w/ pipes start at the top and work down</span><span class="w">
</span><span class="n">foo_foo</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">hop_through</span><span class="p">(</span><span class="n">forest</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">scoop_up</span><span class="p">(</span><span class="n">field_mouse</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">bop_on</span><span class="p">(</span><span class="n">head</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>In the first set, we have to read the story of little bunny foo foo
from the inside out: “Little bunny foo_foo bopped on the head a field mouse that
was scooped up while hopping through the forest.”</p>

<p>With pipes, we can read it more like the original rhyme: “Little bunny foo
foo hopped through the forest, scooped up a field mouse, and bopped it
on the head.”</p>

<p>The main thing to remember is with pipes
and tidyverse is that because the output of the function goes into the
next function, you don’t need to include the first argument, that is,
the data frame object name.</p>

<p>This:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df_example</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">select</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">col1</span><span class="p">,</span><span class="w"> </span><span class="n">col2</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>becomes this:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df_example</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">select</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span><span class="w"> </span><span class="n">cols2</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>In the second example, the object <code class="language-plaintext highlighter-rouge">df</code> was piped into the first
argument spot in <code class="language-plaintext highlighter-rouge">select()</code>. Since that’s already accounted for, we
were able to just start with the column names we want.</p>

<h2 id="rewriting-our-analysis-using-pipes">Rewriting our analysis using pipes</h2>

<p>Returning to our analysis above, let’s rewrite all our of our steps in
on piped chain of commands.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## start with the original data frame...</span><span class="w">
</span><span class="n">df_tmp_chained</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="c1">## (df is piped in): select the columns we want</span><span class="w">
    </span><span class="n">select</span><span class="p">(</span><span class="n">stu_id</span><span class="p">,</span><span class="w"> </span><span class="n">x1stuedexpct</span><span class="p">,</span><span class="w"> </span><span class="n">x1paredexpct</span><span class="p">,</span><span class="w"> </span><span class="n">x1region</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="c1">## (selected df is piped in): mutate our data, starting with missing</span><span class="w">
    </span><span class="n">mutate</span><span class="p">(</span><span class="n">x1stuedexpct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">x1stuedexpct</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w">   
                                 </span><span class="kc">NA</span><span class="p">,</span><span class="w">                 
                                 </span><span class="n">x1stuedexpct</span><span class="p">),</span><span class="w">      
           </span><span class="n">x1stuedexpct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">x1stuedexpct</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">11</span><span class="p">,</span><span class="w"> 
                                 </span><span class="kc">NA</span><span class="p">,</span><span class="w">                 
                                 </span><span class="n">x1stuedexpct</span><span class="p">),</span><span class="w">      
           </span><span class="n">x1paredexpct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">x1paredexpct</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w">   
                                 </span><span class="kc">NA</span><span class="p">,</span><span class="w">                 
                                 </span><span class="n">x1paredexpct</span><span class="p">),</span><span class="w">       
           </span><span class="n">x1paredexpct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">x1paredexpct</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">11</span><span class="p">,</span><span class="w">
                                 </span><span class="kc">NA</span><span class="p">,</span><span class="w">
                                 </span><span class="n">x1paredexpct</span><span class="p">),</span><span class="w">
           </span><span class="c1">## create new column</span><span class="w">
           </span><span class="n">high_expct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">x1stuedexpct</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">x1paredexpct</span><span class="p">,</span><span class="w"> 
                               </span><span class="n">x1stuedexpct</span><span class="p">,</span><span class="w">                
                               </span><span class="n">x1paredexpct</span><span class="p">),</span><span class="w">
           </span><span class="c1">## fix new column NAs</span><span class="w">
           </span><span class="n">high_expct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">high_expct</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">x1stuedexpct</span><span class="p">),</span><span class="w"> 
                               </span><span class="n">x1stuedexpct</span><span class="p">,</span><span class="w">                
                               </span><span class="n">high_expct</span><span class="p">),</span><span class="w">
           </span><span class="n">high_expct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">high_expct</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">x1paredexpct</span><span class="p">),</span><span class="w"> 
                               </span><span class="n">x1paredexpct</span><span class="p">,</span><span class="w">                
                               </span><span class="n">high_expct</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="c1">## (mutated df is piped in): filter in non-missing rows</span><span class="w">
    </span><span class="n">filter</span><span class="p">(</span><span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">high_expct</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="c1">## (filtered df is piped in): group by region</span><span class="w">
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">x1region</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="c1">## (grouped df is piped in): summarize mean expectations</span><span class="w">
    </span><span class="n">summarize</span><span class="p">(</span><span class="n">high_expct_mean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">high_expct</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="c1">## (summarized df is piped in): arrange average expectations hi --&gt; lo</span><span class="w">
    </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">high_expct_mean</span><span class="p">))</span><span class="w">         
</span></code></pre></div></div>

<p>Notice how I included comments along the way? Since R ignores
commented lines (it’s as if they don’t exist), you can include within
your piped chain of commands. This is a good habit that collaborators
and future you will appreciate.</p>

<p>To be sure, let’s check: is the result the same as before?</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## show</span><span class="w">
</span><span class="n">df_tmp_chained</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># A tibble: 4 x 2
  x1region high_expct_mean
     &lt;dbl&gt;           &lt;dbl&gt;
1        1            7.39
2        3            7.36
3        2            7.17
4        4            7.13
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## test using identical()</span><span class="w">
</span><span class="n">identical</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">,</span><span class="w"> </span><span class="n">df_tmp_chained</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] TRUE
</code></pre></div></div>

<p>Success!</p>

<h1 id="final-notes">Final notes</h1>

<p>In this lesson, you’ve converted a research question into a data
analysis that started with reading in raw data and ended with your
summary table. You’ve seen how to wrangle your data in multiple
discrete steps as well as chained together using pipes.</p>

<p>As you start to apply these tools to your own analyses, the first
questions should always be:</p>

<ol>
  <li>What I am trying to do?</li>
  <li>What would my data or results need to look like in order to do
that?</li>
  <li>What are the discrete steps I need to get from what I have (raw
data) to what I need (wrangled data)?</li>
</ol>

<p>Remember, these are iterative questions, meaning you will almost
certainly need to revisit and adjust during your analysis. But
becoming a better quantitative researcher mostly means becoming a
better translator: question –&gt; data/coding –&gt; answer.</p>




	<!-- <p> -->
	<!--   Updated:  -->
	<!-- </p> -->
      </section>
      <footer>
        <p>
  Benjamin Skinner</br>  
  Assistant Professor</br>  
  University of Florida</br>
  <a href="https://www.btskinner.io" class="iconlink" alt="Personal website">
    <i class="fas fa-home fa-lg"></i></a> | 
  <a href="https://github.com/btskinner" class="iconlink" alt="Github
								profile">
    <i class="fab fa-github fa-lg"></i></a> |
  <a href="https://twitter.com/btskinner" class="iconlink" alt="Twitter profile">
    <i class="fab fa-twitter fa-lg"></i></a>
</p>
<p>
  <small>
    <a href="https://pages.github.com">GitHub Pages</a> |
    <a href="https://github.com/orderedlist/minimal">Theme</a> |
    <a href="/edh7916/releases/">Releases</a>
  </small>
</p>

      </footer>
    </div>

    <!-- load Javascript if page requires it -->
    
    
    

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-63981025-1', 'auto');
        ga('send', 'pageview');
    </script>
  
  </body>
</html>
